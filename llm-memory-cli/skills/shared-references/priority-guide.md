# 优先级判断指南

## 优先级系统概述

LLM-Memory 使用 4 级优先级系统（1-4）：
- **Priority 4 - 紧急 🔴**
- **Priority 3 - 高 🟠**
- **Priority 2 - 中 🟡** （默认）
- **Priority 1 - 低 🟢**

---

## Priority 4 - 紧急 🔴

### 触发条件

- Bug 修复（影响用户使用）
- 安全漏洞
- 系统故障
- 阻塞其他工作的任务
- 生产环境问题
- 截止时间在 24 小时内

### 真实示例（25个）

**Bug 修复：**
- 修复用户无法登录的 bug
- 修复支付失败问题
- 修复数据丢失 bug
- 修复页面崩溃问题
- 修复订单无法提交
- 修复密码重置失败

**安全问题：**
- 处理数据库连接失败
- 紧急安全补丁
- 修复 SQL 注入漏洞
- 修复 XSS 漏洞
- 修复未授权访问
- 修复敏感数据泄露

**阻塞性任务：**
- 实现 JWT 令牌机制（阻塞其他开发）
- 修复构建失败问题（阻塞发布）
- 修复测试环境崩溃（阻塞测试）
- 修复 CI/CD 流水线中断

**生产环境：**
- 修复生产环境内存泄漏
- 处理生产数据库性能问题
- 修复生产环境日志丢失
- 处理生产环境服务宕机

**紧急截止：**
- 完成 Demo 演示准备（明天演示）
- 提交竞赛作品（截止今晚）
- 完成客户紧急需求（今日交付）

---

## Priority 3 - 高 🟠

### 触发条件

- 重要功能开发
- 影响用户体验的问题
- 关键里程碑任务
- 截止时间在 3 天内

### 真实示例（25个）

**重要功能：**
- 实现核心 API 端点
- 开发登录和注册功能
- 实现支付集成
- 开发数据导出功能
- 实现文件上传
- 开发搜索功能

**用户体验：**
- 重要页面的 UI 优化
- 修复页面加载缓慢
- 优化移动端体验
- 改进搜索功能
- 优化表单验证
- 改进错误提示

**关键里程碑：**
- 完成 MVP 功能
- 集成第三方服务
- 完成数据库迁移
- 部署到生产环境
- 完成性能测试
- 通过安全审计

**近期截止：**
- 完成周报告（3天后截止）
- 准备产品评审材料（后天）
- 完成季度 OKR（本周五）
- 提交项目申报（72小时内）

---

## Priority 2 - 中 🟡 （默认）

### 触发条件

- 常规开发任务
- 功能优化改进
- 无明确截止时间
- 不确定的优先级

### 真实示例（25个）

**常规开发：**
- 添加单元测试
- 代码重构
- 文档更新
- 添加日志记录
- 实现数据验证
- 添加配置选项

**功能优化：**
- 优化数据库查询
- 改进错误提示
- 添加配置选项
- 优化代码结构
- 改进 UI 细节
- 优化算法效率

**技术改进：**
- 升级依赖包
- 添加 ESLint 规则
- 配置 CI/CD
- 添加代码注释
- 优化项目结构
- 统一命名规范

**文档和规范：**
- 编写 API 文档
- 更新 README
- 编写开发指南
- 整理项目规范
- 编写部署文档
- 更新变更日志

---

## Priority 1 - 低 🟢

### 触发条件

- 可选的改进
- 技术债务清理
- 长期优化计划
- 学习和探索任务

### 真实示例（25个）

**可选改进：**
- 性能优化探索
- 尝试新技术方案
- 添加可选功能
- 美化界面细节
- 添加快捷键
- 优化动画效果

**技术债务：**
- 代码注释补充
- 清理废弃代码
- 统一命名风格
- 整理项目结构
- 删除未使用依赖
- 优化 import 顺序

**长期计划：**
- 研究微服务架构
- 评估新框架
- 规划未来功能
- 技术选型调研
- 性能基准测试
- 架构演进规划

**学习任务：**
- 学习新技术
- 阅读技术文档
- 编写技术博客
- 参加技术分享
- 观看技术视频
- 阅读源码学习

---

## 优先级判断流程图

```
开始
  ↓
是否阻塞其他工作？
  是 → Priority 4（紧急）
  否 ↓
是否是 Bug/安全问题？
  是 → Priority 4（紧急）
  否 ↓
截止时间 < 24h？
  是 → Priority 4（紧急）
  否 ↓
是否影响用户体验？
  是 → Priority 3（高）
  否 ↓
截止时间 < 3天？
  是 → Priority 3（高）
  否 ↓
是否是关键里程碑？
  是 → Priority 3（高）
  否 ↓
是否是常规开发任务？
  是 → Priority 2（中）
  否 ↓
是否可选或探索性任务？
  是 → Priority 1（低）
  否 → Priority 2（中，默认）
```

---

## 常见误区

### 误区 1：所有任务都是紧急

**问题：** 把所有任务都设为 Priority 4，失去优先级的意义

**正确做法：** 严格按照触发条件判断，只有真正紧急的才设为 4

### 误区 2：从不更新优先级

**问题：** 任务创建后优先级固定，不随情况变化

**正确做法：** 定期重新评估，根据新情况调整优先级

### 误区 3：忽略依赖关系

**问题：** 不考虑任务之间的依赖，导致阻塞

**正确做法：** 阻塞性任务应该提高优先级

### 误区 4：个人偏好影响判断

**问题：** 喜欢的任务设高优先级，不喜欢的设低优先级

**正确做法：** 基于客观标准（影响范围、紧急程度）判断

### 误区 5：混淆重要和紧急

**问题：** 重要但不紧急的任务设为 Priority 4

**正确做法：**
- 重要且紧急 → Priority 4
- 重要但不紧急 → Priority 3
- 不重要但紧急 → Priority 3
- 不重要不紧急 → Priority 1-2

### 误区 6：优先级颗粒度过细

**问题：** 想要更多优先级（如 Priority 5, 6）

**正确做法：** 4 级优先级足够，过多会增加决策成本

### 误区 7：默认全是中

**问题：** 不确定时都设为 Priority 2

**正确做法：** 花时间思考和判断，参考本指南的示例

### 误区 8：优先级与工作量混淆

**问题：** 工作量大的任务就设高优先级

**正确做法：** 优先级基于影响和紧急程度，不是工作量

### 误区 9：个人任务都设低优先级

**问题：** 认为个人学习任务不重要

**正确做法：** 如果对项目有帮助，学习任务也可以是高优先级

### 误区 10：团队任务都设高优先级

**问题：** 团队任务自动提升优先级

**正确做法：** 团队任务也应该按照标准判断

---

## 优先级动态调整

### 何时需要重新评估优先级

**情况 1：截止时间临近**
- 原 Priority 2 → 提升为 Priority 3 或 4

**情况 2：发现依赖关系**
- 阻塞性任务 → 提升为 Priority 4

**情况 3：用户反馈**
- 用户频繁报告的问题 → 提升优先级

**情况 4：技术债务积累**
- 长期忽视的问题 → 适当提升优先级

**情况 5：项目方向调整**
- 不再重要的功能 → 降低优先级

### 重新评估频率

- **每天**：检查 Priority 4 和 3 的任务
- **每周**：全面评估所有任务
- **每月**：回顾优先级判断是否合理

---

## 批量任务的优先级处理

### 策略 1：按最高优先级

- 批量任务中有一个 Priority 4，整批按 Priority 4 处理

### 策略 2：分批处理

- Priority 4 的先处理
- Priority 3 的再处理
- 依次类推

### 策略 3：并行处理

- 不同优先级的任务分配给不同人员

---

## 优先级与时间管理

### 时间分配建议

- **Priority 4**：70% 时间
- **Priority 3**：20% 时间
- **Priority 2**：8% 时间
- **Priority 1**：2% 时间（可推迟）

### 每日计划建议

1. **上午**：处理 Priority 4 和 3
2. **下午**：处理 Priority 2
3. **闲暇时间**：处理 Priority 1

---

## 总结

优先级判断是项目管理的核心技能：

- ✅ 严格按照触发条件判断
- ✅ 参考真实示例对比
- ✅ 定期重新评估
- ✅ 考虑依赖关系
- ✅ 避免常见误区
- ✅ 与团队达成共识

**当有疑问时：**
- 默认使用 Priority 2（中）
- 咨询团队意见
- 参考历史相似任务的优先级

---

## 快速参考卡片

### ✅ 优先级速记

```
4 = 紧急 🔴 Bug/阻塞/安全/24h内
3 = 高   🟠 重要功能/影响体验/3天内
2 = 中   🟡 常规任务（默认）
1 = 低   🟢 可选改进/技术债/长期计划
```

### ✅ 判断流程速记

```
阻塞？ → 4
Bug？  → 4
<24h？ → 4
影响UX？→ 3
<3天？ → 3
里程碑？→ 3
常规？  → 2
可选？  → 1
```

---

## 参考资料

- [Code 格式规则](./code-format.md)
- [故障排除](./troubleshooting.md)
- [最佳实践](./best-practices.md)
